<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="pandoc" />

    <!-- --------------------------------------- -->

    <!-- Meta Tags BÃ¡sicas -->
    <meta
      name="description"
      content="XMPP, federado e sem frescura"
    />
    <meta name="author" content="dr3zk" />

    <!-- Open Graph (Facebook, Discord, WhatsApp) -->
    <meta property="og:title" content="XMPP ğŸ§¸" />
    <meta
      property="og:description"
      content="XMPP, federado e sem frescura"
    />
    <meta
      property="og:image"
      content="/images/thumbs/xmpp.png"
    />
    <meta
      property="og:url"
      content="/articles/0x01"
    />
    <meta property="og:type" content="article" />
    <meta
      property="og:site_name"
      content="/chinese ROOM â€” dr3zk"
    />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="XMPP ğŸ§¸" />
    <meta
      name="twitter:description"
      content="XMPP, federado e sem frescura"
    />
    <meta
      name="twitter:image"
      content="/images/thumbs/xmpp.png"
    />
    <meta
      name="twitter:site"
      content="@dr3zzk"
    />

    <!-- --------------------------------------- -->

    <title>XMPP ğŸ§¸</title>
    <link
      rel="shortcut icon"
      href="/images/gifs/chinese.gif"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="articleStyle.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/base16/summerfruit-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </head>
  <body>
    <center>
      <a class="back-home" href="/index.html">&dollar;HOME</a>
    </center>
    <header class="page-header">
      <h1 class="main-title">XMPP ğŸ§¸</h1>
            <p class="subtitle">Aprenda sobre o XMPP â€” O Protocolo perfeito para comunicaÃ§Ã£o</p>
            <div class="meta">
                <span class="author"><span class="highlight-red">dr3zk</span></span>
         <span class="date">â€” 2025-11-14</span>
      </div>
      <hr class="divider" />
    </header>

    <div class="terminal-window" tabindex="0">
      <div class="terminal-header">
        <div class="terminal-buttons">
          <div class="terminal-button close"></div>
          <div class="terminal-button minimize"></div>
          <div class="terminal-button maximize"></div>
        </div>
        <div class="terminal-title">dr3zk ä¸€ å®šè¦è®°å¾—æ¸…ç†æ—¥å¿—</div>
        <div class="terminal-controls">
          <button class="flag-button" title="Sistema Operacional">ğŸ‡¨ğŸ‡³</button>
        </div>
      </div>
      <div class="terminal-content"><h1 id="overview">Overview</h1>
<p>Este paper fornece uma visÃ£o geral do protocolo XMPP (Extensible
Messaging and Presence Protocol), com foco em seus aspectos de
descentralizaÃ§Ã£o, privacidade e anonimato.</p>
<ul>
<li>Abordarei como o protocolo funciona, RFCs, ExtensÃµes (XEP) e
terminologias.</li>
<li>Apresentarei um guia prÃ¡tico para a criaÃ§Ã£o de uma conta e
configuraÃ§Ã£o do cliente Gajim com OMEMO e anonimizaÃ§Ã£o via rede
Tor.</li>
</ul>
<h1 id="sumÃ¡rio---xmpp">SumÃ¡rio - XMPP</h1>
<details>
<summary>
<a href="#oque-e-xmpp">O que Ã© XMPP</a>
</summary>
<ul>
<li><a href="#rfcs-extensoes">RFCs &amp; Extensions (XEP)</a>
<ul>
<li><a href="#rfcs">RFCs</a></li>
<li><a href="#xep">XEP</a></li>
</ul></li>
<li><a href="#xmpp-como-funciona">Como o XMPP funciona</a>
<ul>
<li><a href="#ideia-central-xmpp">Ideia Central</a></li>
</ul></li>
<li><a href="#xmpp-pontos-positivos">Pontos Positivos do XMPP (em
questÃµes de privacidade)</a>
<ul>
<li><a href="#desc-s2s">Descentralizado/S2S</a></li>
<li><a href="#jid">Jabber ID</a></li>
<li><a href="#no-infos">Sem InformaÃ§Ãµes</a></li>
<li><a href="#over-tor">ConexÃ£o via Tor</a></li>
<li><a href="#xml-based">Baseado em XML</a></li>
</ul>
</details></li>
</ul>
<details>
<summary>
<a href="#questoes-opsec">QuestÃµes de seguranÃ§a operacional (OPSEC)</a>
</summary>
<ul>
<li><a href="#opsec-client">Client</a></li>
<li><a href="#opsec-server">Server</a></li>
</ul>
</details>
<details>
<summary>
<a href="#hands-on">Hands on (Chega de teoria)</a>
</summary>
<ul>
<li><a href="#omemo-cript">OMEMO</a></li>
<li><a href="#otr-cript">OTR</a></li>
<li><a href="#clients-xmpp">CLIENTs</a></li>
<li><a href="#instalando-gajim">Instalando e configurando o
Gajim</a></li>
<li><a href="#criando-conta">Criando a conta</a></li>
<li><a href="#voltando-ao-gajim">Voltando ao Gajimâ€¦</a></li>
<li><a href="#omemo-por-padrao">OMEMO POR PADRÃƒO</a></li>
<li><a href="#acabou">Feito!</a></li>
</ul>
</details>
<hr />
<h1 id="oque-e-xmpp">O que Ã© XMPP</h1>
<p>O protocolo XMPP, inicialmente chamado de Jabber, foi iniciado em
1999 e tinha como principal objetivo criar uma alternativa de
comunicaÃ§Ã£o de cÃ³digo aberto e federada/descentralizada. Com o tempo, o
protocolo Jabber foi amadurecendo junto com a comunidade e logo foi
padronizado, tornando-se XMPP, que Ã© como o conhecemos hoje.</p>
<div class="note-box">
<p>VocÃª pode ver essa linha do tempo aqui -&gt; <a
href="https://xmpp.org/about/history/">XMPP History</a></p>
</div>
<hr />
<h3 id="rfcs-extensoes">RFCs &amp; Extensions (XEP)</h3>
<p>Como expliquei anteriormente, com o tempo o protocolo amadureceu e
foi padronizado, nascendo assim as RFCs, que sÃ£o documentos de
padronizaÃ§Ã£o de protocolos.</p>
<h4 id="rfcs">RFCs (documentos de padronizaÃ§Ã£o do protocolo)</h4>
<p>As RFCs principais do protocolo XMPP sÃ£o:</p>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 18%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="header">
<th>RFC</th>
<th>TÃ­tulo</th>
<th>DescriÃ§Ã£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://xmpp.org/rfcs/#6120"><strong>RFC
6120</strong></a></td>
<td><strong>XMPP Core</strong></td>
<td>Define o nÃºcleo do protocolo, incluindo streams XML, autenticaÃ§Ã£o
SASL, estabelecimento de sessÃ£o e mecanismos de comunicaÃ§Ã£o
bÃ¡sicos.</td>
</tr>
<tr class="even">
<td><a href="https://xmpp.org/rfcs/#6121"><strong>RFC
6121</strong></a></td>
<td><strong>XMPP Instant Messaging and Presence</strong></td>
<td>Especifica as funcionalidades bÃ¡sicas de mensagens instantÃ¢neas e
presenÃ§a (online, offline, ocupado, etc.).</td>
</tr>
<tr class="odd">
<td><a href="https://xmpp.org/rfcs/#7622"><strong>RFC
7622</strong></a></td>
<td><strong>XMPP Address Format</strong></td>
<td>Padroniza o formato do JID (Jabber ID), definindo a estrutura
<code>usuÃ¡rio@domÃ­nio/recurso</code>.</td>
</tr>
<tr class="even">
<td><a href="https://xmpp.org/rfcs/#7590"><strong>RFC
7590</strong></a></td>
<td><strong>Use of TLS in XMPP</strong></td>
<td>Especifica o uso obrigatÃ³rio do TLS para criptografia de todas as
conexÃµes, garantindo seguranÃ§a na comunicaÃ§Ã£o.</td>
</tr>
<tr class="odd">
<td><a href="https://xmpp.org/rfcs/#7395"><strong>RFC
7395</strong></a></td>
<td><strong>XMPP over WebSocket</strong></td>
<td>Define como XMPP pode ser transportado sobre WebSockets, facilitando
sua integraÃ§Ã£o com aplicaÃ§Ãµes web modernas.</td>
</tr>
</tbody>
</table>
<h4 id="xep">Extensions (XEP)</h4>
<p>O protocolo XMPP permite a adiÃ§Ã£o de extensÃµes, que sÃ£o conhecidas
como: XEPs (<strong>XMPP Extension Protocol</strong>).</p>
<details>
<summary>
Os XEP nos permitem
</summary>
<ol type="1">
<li>Adicionar criptografia do lado do cliente (E2EE)</li>
<li>Chamadas de voz e vÃ­deo</li>
<li>Compartilhamento de arquivos</li>
<li>Descobrir os recursos que o servidor disponibiliza</li>
<li>Salas em grupo (MUC)</li>
<li>E uma infinidade de outras coisasâ€¦</li>
</ol>
</details>
<p>Algumas extensÃµes XEP bem conhecidas sÃ£o:</p>
<table>
<colgroup>
<col style="width: 31%" />
<col style="width: 10%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="header">
<th>XEP</th>
<th>Nome</th>
<th>DescriÃ§Ã£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a
href="https://xmpp.org/extensions/xep-0045.html">XEP-0045</a></td>
<td>Multi-User Chat</td>
<td>Salas de conversaÃ§Ã£o em grupo, similares a canais de IRC.</td>
</tr>
<tr class="even">
<td><a
href="https://xmpp.org/extensions/xep-0384.html">XEP-0384</a></td>
<td>OMEMO Encryption</td>
<td>Criptografia de ponta-a-ponta moderna, baseada no protocolo
Signal.</td>
</tr>
<tr class="odd">
<td><a
href="https://xmpp.org/extensions/xep-0363.html">XEP-0363</a></td>
<td>HTTP File Upload</td>
<td>Permite o compartilhamento de arquivos mesmo quando o destinatÃ¡rio
estÃ¡ offline.</td>
</tr>
<tr class="even">
<td><a
href="https://xmpp.org/extensions/xep-0030.html">XEP-0030</a></td>
<td>Service Discovery</td>
<td>Permite que clientes descubram os recursos e extensÃµes suportados
por um servidor ou outro cliente.</td>
</tr>
<tr class="odd">
<td><a
href="https://xmpp.org/extensions/xep-0234.html">XEP-0234</a></td>
<td>Jingle</td>
<td>Framework para comunicaÃ§Ã£o em tempo real, como chamadas de voz e
vÃ­deo.</td>
</tr>
</tbody>
</table>
<div class="note-box">
<p>Existem diversos outros XEP, basta verificar -&gt; <a
href="https://xmpp.org/extensions/">xmpp.org/extensions</a></p>
</div>
<hr />
<h2 id="xmpp-como-funciona">Como o XMPP funciona</h2>
<h4 id="ideia-central-xmpp">Ideia Central</h4>
<p>O XMPP e sua ideia central:</p>
<ul>
<li><code>X â€” eXtensible:</code> Feito para se adaptar a mudanÃ§as ao
longo do tempo.</li>
<li><code>M â€” Messaging:</code> Mensagens instantÃ¢neas, rÃ¡pidas e
eficientes entre os clientes.</li>
<li><code>P â€” Presence:</code> A presenÃ§a de uma entidade no servidor:
Online, Offline, Ocupado etc. Indica se vocÃª estÃ¡ pronto para receber
uma mensagem ou nÃ£o.</li>
<li><code>P â€” Protocol:</code> Ã‰ um protocolo extensÃ­vel, com conjunto
de padrÃµes definidos, que permite a comunicaÃ§Ã£o entre servidores e
clientes.</li>
</ul>
<h3 id="xmpp-pontos-positivos">Pontos Positivos do XMPP (em questÃµes de
privacidade)</h3>
<h4 id="desc-s2s">Descentralizado/S2S</h4>
<details>
<summary>
O protocolo <em>XMPP</em> Ã© <strong>descentralizado</strong> por padrÃ£o
</summary>
<ul>
<li>VocÃª pode rodar seu prÃ³prio servidor na sua casa, ele nÃ£o depende de
um <code>servidor central</code> Ãºnico.</li>
<li>A principal vantagem da <strong>descentralizaÃ§Ã£o</strong> Ã© a
<strong>liberdade de escolha do usuÃ¡rio</strong>, tendo em vista que o
usuÃ¡rio pode criar seu prÃ³prio servidor (<em>se ele tiver
experiÃªncia</em>), ou usar servidores seguros/privados (<em>o que torna
o uso muito mais simples</em>).</li>
</ul>
</details>
<ul>
<li>Os servidores funcionam em um modo chamado
<strong>server-to-server</strong> (<em>S2S</em>), ou seja, os servidores
se comunicam entre si, desde que ambos estejam rodando e aceitando
comunicaÃ§Ãµes via XMPP.</li>
</ul>
<p><span class="code-title" data-filename="" data-language="txt">
Estrutura Descentralizada </span></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode txt"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>â”‚          Estrutura Descentralizada          â”‚</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>     Server A                   Server B</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    S2S    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  â”‚             â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  â”‚ user1@A.org â”‚           â”‚ user2@B.com â”‚</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  â”‚             â”‚           â”‚             â”‚</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>         â–²                         â–²</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>         â”‚                         â”‚</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>         â”‚ C2S                     â”‚ C2S</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>         â”‚                         â”‚</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>   â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>   â”‚  Client 1  â”‚            â”‚  Client 2  â”‚</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre
class="sourceCode txt"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>C2S - CLIENT TO SERVER</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>S2S - SERVER TO SERVER</span></code></pre></div>
<ul>
<li>Isso significa que o usuÃ¡rio pode criar um servidor em casa! Se esse
servidor rodar o protocolo XMPP, ele pode se comunicar com todos os
outros!</li>
</ul>
<details>
<summary>
Vantagens de ter seu prÃ³prio servidor
</summary>
<ul>
<li>VocÃª gerencia seu servidor (quem pode se comunicar ou o que, E2EE e
assim por diante)</li>
<li>VocÃª gerencia sua privacidade (quem pode te enviar mensagem, o que
as pessoas podem ver)</li>
<li>VocÃª gerencia a forma como a comunicaÃ§Ã£o Ã© feita (adicionando
criptografia Ã  conexÃ£o ou nÃ£o, vocÃª escolhe!)</li>
<li>VocÃª gerencia os logs (o que o servidor vai armazenar de Ãºtil)</li>
</ul>
</details>
<ul>
<li>Mas mesmo se vocÃª nÃ£o possuir um servidor, ainda existem servidores
gratuitos e <strong>â€œconfiÃ¡veisâ€</strong> que estÃ£o disponÃ­veis
<code>24/7</code>, e vocÃª pode se registrar criando um JabberID para se
comunicar com outros usuÃ¡rios!</li>
<li>VocÃª tambÃ©m pode usar criptografia E2EE (OMEMO) para proteger suas
mensagens, impedindo que o servidor tenha acesso ao conteÃºdo.</li>
</ul>
<h4 id="jid">Jabber ID</h4>
<details>
<summary>
O protocolo XMPP usa um formato de endereÃ§amento de entidades muito
simples, semelhante ao e-mail.
</summary>
<ul>
<li>VocÃª pode ter uma conta no Gmail e conversar com quem tem uma conta
no Outlook</li>
<li>user1@meuserver.dot -&gt; user2@serverrandomico.dot2</li>
</ul>
</details>
<p><span class="code-title" data-filename="" data-language="txt">
JabberID </span></p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode txt"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>          â”‚JabberID (JID)â”‚</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>       usuÃ¡rio@domÃ­nio/mobileX</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>       â”€â”€â”€â”¬â”€â”€â”€ â”€â”€â”€â”¬â”€â”€â”€ â”€â”€â”€â”¬â”€â”€â”€</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    â”Œâ”€â”€â”€â”€â”€â”˜       â”‚       â””â”€â”€â”€â”€â”</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    â”‚             â”‚            â”‚</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    â–¼             â–¼            â–¼</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>â”‚UsuÃ¡rioâ”‚   â”‚Domain/FQDNâ”‚   â”‚Clientâ”‚</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜</span></code></pre></div>
<details>
<summary>
UsuÃ¡rio
</summary>
<ul>
<li>Seu nickname, escolhido na hora de criar sua conta em um servidor
Jabber/XMPP</li>
</ul>
</details>
<details>
<summary>
Domain
</summary>
<ul>
<li>NameSystem do servidor, usado para identificaÃ§Ã£o do servidor do
usuÃ¡rio/entidade</li>
</ul>
</details>
<details>
<summary>
Client
</summary>
<ul>
<li>Usado para especificar o cliente/dispositivo que o usuÃ¡rio estÃ¡
utilizando (<code>/mobile2 /laptopHome /gajim.DeskTOP12345</code>)</li>
<li>Um usuÃ¡rio pode estar conectado simultaneamente em uma mesma conta,
porÃ©m em diversos dispositivos diferentes, e Ã© essa parte que identifica
em qual dispositivo ele estÃ¡ conectado.</li>
</ul>
</details>
<h4 id="no-infos">Sem InformaÃ§Ãµes</h4>
<ul>
<li>VocÃª nÃ£o precisa dar informaÃ§Ãµes pessoais (<em>e-mails, nÃºmero de
telefone, ou coisas do tipo</em>) ao criar seu JabberID. Basta ter um
usuÃ¡rio e uma senha!</li>
<li>A coleta de informaÃ§Ãµes varia de servidor para servidor. Pela
essÃªncia do protocolo XMPP, a grande maioria dos servidores evita
armazenar informaÃ§Ãµes (IPs, mensagens etc.) por muito tempo! Basta ver
as especificaÃ§Ãµes de privacidade do servidor em que vocÃª irÃ¡ se
registrar para verificar essas informaÃ§Ãµes.</li>
</ul>
<div class="warning-box">
<p><strong>Lembre-se:</strong> tudo depende das polÃ­ticas do servidor
XMPP que vocÃª irÃ¡ utilizar.</p>
</div>
<h4 id="over-tor">ConexÃ£o via Tor</h4>
<ul>
<li>Atualmente a maioria dos clientes suporta conexÃµes feitas via
Tor</li>
<li>Isso anonimiza seu dispositivo e sua conexÃ£o, ou seja, o servidor
nÃ£o terÃ¡ acesso ao seu endereÃ§o IP real.</li>
<li>Isso acaba impedindo os servidores de obterem informaÃ§Ãµes laterais
que possam chegar atÃ© vocÃª (localizaÃ§Ã£o baseada no IP, ou identidade
real baseada em footprinting).</li>
</ul>
<h4 id="xml-based">Baseado em XML</h4>
<ul>
<li>O protocolo Ã© totalmente baseado em XML, o que permite extensÃµes
personalizadas.</li>
<li>Isso Ã© bom para novas features.</li>
<li>Exemplo disso Ã© o XEP!</li>
</ul>
<details>
<summary>
Mitos a respeito do protocolo XMPP
</summary>
<p>Recomendo que vocÃª dÃª uma olhada sobre os <a
href="https://xmpp.org/about/myths/">Mitos a respeito do protocolo
XMPP</a></p>
</details>
<hr />
<h1 id="questoes-opsec">QuestÃµes de seguranÃ§a operacional (OPSEC)</h1>
<p>O protocolo XMPP, por ser descentralizado e Open Source, Ã© muito
acolhedor para aqueles usuÃ¡rios que gostam de seguranÃ§a operacional.</p>
<blockquote>
<p>Diferente de protocolos proprietÃ¡rios, cujo usuÃ¡rio nÃ£o pode fazer
configuraÃ§Ãµes adequadas e deve confiar cegamente na instituiÃ§Ã£o
centralizada.</p>
</blockquote>
<p>No XMPP Ã© possÃ­vel configurar seu prÃ³prio ambiente de comunicaÃ§Ã£o,
com boas prÃ¡ticas vocÃª pode criar um ambiente protegido e privado.</p>
<h3 id="opsec-client">Client</h3>
<ul>
<li>Escolha um bom cliente, que suporte a maioria das extensÃµes e
criptografias, e que tambÃ©m permita conexÃµes via PROXY/SOCKS5</li>
<li>Dependendo do cliente que vocÃª utilizar, vocÃª pode fazer muitas
configuraÃ§Ãµes</li>
<li>Com XMPP o usuÃ¡rio poderÃ¡ implementar criptografia end-to-end, o que
significa que vocÃª criptografa a mensagem no cliente, e depois envia ao
servidor, dessa forma o servidor nÃ£o poderÃ¡ ver sua mensagem
criptografada, somente o usuÃ¡rio destinatÃ¡rio.</li>
</ul>
<h3 id="opsec-server">Server</h3>
<ul>
<li>Existem muitos servidores pÃºblicos que fornecem boas prÃ¡ticas de
seguranÃ§a atualmente.</li>
<li>E mesmo que nÃ£o forneÃ§a, vocÃª pode implementar criptografia nas suas
mensagens, e o servidor nÃ£o terÃ¡ acesso ao conteÃºdo delas!</li>
<li>Isso jÃ¡ deixa muitos outros mensageiros no chinelo</li>
</ul>
<h1 id="hands-on">Hands on (Chega de teoria)</h1>
<p>Vamos Ã¡ prÃ¡tica! abordarei os dois protocolos extensivos de
criptografia mais utilizados com XMPP. Fica a seu critÃ©rio qual vocÃª irÃ¡
utilizar.</p>
<h2 id="omemo-cript">OMEMO</h2>
<details>
<summary>
Recomendado para uso diÃ¡rio, conversas com amigos, familiares e etc.
(conversas comuns, sem conteÃºdo sensivel)
</summary>
<ul>
<li>Ã‰ mais versÃ¡til e atual</li>
<li>CompÃ¡tivel com + de 1 dispositivo</li>
<li>Possui negaÃ§Ã£o fraca</li>
<li>Suporta conversas em Grupo (MUC)</li>
<li>Ã‰ assincrono, o que permite receber mensagens offline</li>
</ul>
</details>
<h2 id="otr-cript">OTR</h2>
<details>
<summary>
Recomendado para conversas sensiveis (denuncias, crimes e etc.)
</summary>
<ul>
<li>OTR Ã© mais antigo, porÃ©m possui uma negaÃ§Ã£o muito forte.</li>
<li>Ambos clientes devem estar online para se comunicarem</li>
<li>A cada nova conversa, uma nova chave criptografica! (Isso Ã© bom
pois, as chaves antigas nÃ£o sÃ£o atreladas a vocÃª)</li>
<li>Se um dia te julgarem em um tribunal, Ã© possivel negar!</li>
</ul>
</details>
<div class="info-box">
<p>Ambos sÃ£o seguros, mas sÃ£o utilizados para prÃ³positos diferentes!</p>
</div>
<h2 id="clients-xmpp">CLIENTs</h2>
<p>Existe uma lista enorme de clients que podem ser utilizados, e vocÃª
pode encontrar aqui: <a
href="https://xmpp.org/software/?category=clients">XMPP CLIENTS</a></p>
<details>
<summary>
JÃ¡ utilizei esses clients, nessas plataformas
</summary>
<ul>
<li>Gajim (<code>Linux/Windows</code>) -&gt; Suporte a
<code>OMEMO</code></li>
<li>Pidgin (<code>Linux/Windows</code>) -&gt; Suporte a
<code>OTR</code></li>
<li>Conversations (<code>Android</code>) -&gt; Suporte a
<code>OMEMO</code></li>
</ul>
</details>
<h2 id="instalando-gajim">Instalando e configurando o Gajim</h2>
<div class="warning-box">
<p>Como eu utilizo o linux, irei guiar esse tutorial em uma mÃ¡quina
linux!</p>
</div>
<h3 id="criando-conta">Criando a conta</h3>
<p>Primeiro vocÃª precisa de um jabberID, entÃ£o procure um servidor
confiÃ¡vel e crie sua conta</p>
<blockquote>
<p><a href="https://list.jabber.at/">Lista de Servidores
Jabber/XMPP</a></p>
</blockquote>
<ul>
<li>Essa parte Ã© simples, basta escolher um servidor e criar sua conta
lÃ¡. (nÃ£o irei desenvolver essa parte)</li>
<li>Salve sua senha em um lugar seguro. (KeePassXC)</li>
<li>Servidores XMPP em sua grande maioria nÃ£o permitem a troca de senha,
e aqueles que permitem precisam de alguma informaÃ§Ã£o pra confirmar sua
identidade (e-mail ou coisa do tipo)</li>
</ul>
<hr />
<h4 id="voltando-ao-gajim">Voltando ao Gajimâ€¦</h4>
<p>Agora que vocÃª possui um jabberID em um Servidor, vamos logar usando
o Gajim!</p>
<p>Antes de logar na sua conta Jabber, a primeira coisa que iremos fazer
Ã© ir nas configuraÃ§Ãµes do Gajim, e configurar umas coisas bÃ¡sicas!</p>
<hr />
<ol type="1">
<li>Clique no icone de configuraÃ§Ã£o na parte inferior esquerda.</li>
</ol>
<figure>
<img src="/images/p/0x01-xmpp/1.png"
alt="Entre nas configuraÃ§Ãµes do Gajim" />
<figcaption aria-hidden="true">Entre nas configuraÃ§Ãµes do
Gajim</figcaption>
</figure>
<p>Antes de seguir os prÃ³ximos passos vocÃª irÃ¡ precisar do serviÃ§o TOR
rodando na sua mÃ¡quina</p>
<ul>
<li>Instale o TOR</li>
</ul>
<pre><code>sudo apt install tor</code></pre>
<ul>
<li>Habilite e inicie</li>
</ul>
<pre><code>sudo systemctl enable tor
sudo systemctl start tor</code></pre>
<ul>
<li>Saida do terminal esperada</li>
</ul>
<pre><code>Synchronizing state of tor.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable tor</code></pre>
<ul>
<li>Verifique se estÃ¡ rodando</li>
</ul>
<figure>
<img src="/images/p/0x01-xmpp/tor.png"
alt="Saida esperada se o TOR estiver rodando" />
<figcaption aria-hidden="true">Saida esperada se o TOR estiver
rodando</figcaption>
</figure>
<ul>
<li>Tudo certo atÃ© aquiâ€¦</li>
</ul>
<hr />
<ol start="2" type="1">
<li>Agora vÃ¡ em Advanced e coloque o Global Proxy como Tor</li>
</ol>
<figure>
<img src="/images/p/0x01-xmpp/2.png"
alt="Colocando o TOR como conexÃ£o global do Gajim" />
<figcaption aria-hidden="true">Colocando o TOR como conexÃ£o global do
Gajim</figcaption>
</figure>
<ul>
<li>Feche o Gajim e abra novamente</li>
</ul>
<ol start="3" type="1">
<li>Vamos logar na nossa conta agora</li>
</ol>
<ul>
<li>Configuramos o Global proxy para fazer todas as conexÃµes via TOR,
masâ€¦.</li>
<li>Para maior anonimizaÃ§Ã£o no lado do servidor, recomendo fazer essa
etapa com uma VPN ativa, caso o Global proxy nÃ£o funcione na primeira
conexÃ£o!</li>
<li>Isso vai preservar seu IP no Servidor!</li>
<li>Use riseup VPN!</li>
</ul>
<pre><code>sudo apt install riseup-vpn</code></pre>
<ul>
<li>Ative a VPN</li>
<li>Agora logue na sua conta</li>
</ul>
<figure>
<img src="/images/p/0x01-xmpp/3.png" alt="Logando na conta Jabber" />
<figcaption aria-hidden="true">Logando na conta Jabber</figcaption>
</figure>
<div class="note-box">
<p>VocÃª pode selecionar <code>Adavanced Settings</code> e selecionar o
TOR para conexÃ£o (jÃ¡ configuramos isso antes, mas se vocÃª Ã© paranoico
assim como eu, faÃ§a!), fica ao seu critÃ©rio</p>
</div>
<hr />
<ol start="4" type="1">
<li>Agora Ã© hora de configurar sua conta Jabber no Client Gajim!</li>
</ol>
<ul>
<li>Volte as configuraÃ§Ãµes</li>
</ul>
<figure>
<img src="/images/p/0x01-xmpp/1.png" alt="Volte as configuraÃ§Ãµes" />
<figcaption aria-hidden="true">Volte as configuraÃ§Ãµes</figcaption>
</figure>
<ul>
<li>Selecione sua conta Jabber</li>
</ul>
<figure>
<img src="/images/p/0x01-xmpp/4-conta.png"
alt="Selecione su conta Jabber" />
<figcaption aria-hidden="true">Selecione su conta Jabber</figcaption>
</figure>
<ul>
<li>Agora a gente vai configurar o Proxy da conta especifica</li>
<li>Clique em Connection</li>
</ul>
<figure>
<img src="/images/p/0x01-xmpp/connection.png"
alt="Selecione o TOR como proxy default" />
<figcaption aria-hidden="true">Selecione o TOR como proxy
default</figcaption>
</figure>
<ul>
<li>Selecione TOR como padrÃ£o
<ul>
<li>Assim a conta jabber que vocÃª configurou, irÃ¡ se conectar atrÃ¡ves do
TOR, sempre! (faÃ§a o teste desligando o TOR e ligando, veja se a conexÃ£o
do gajim caiu)</li>
</ul></li>
<li>Verifique tambÃ©m se vocÃª estÃ¡ usando conexÃ£o sem criptografia</li>
</ul>
<figure>
<img src="/images/p/0x01-xmpp/semcript.png"
alt="Desabilite a conexÃ£o sem criptografia" />
<figcaption aria-hidden="true">Desabilite a conexÃ£o sem
criptografia</figcaption>
</figure>
<ul>
<li>Deixe as opÃ§Ãµes dessa forma, assim toda vez que uma conexÃ£o sem
criptografia for feita, vocÃª irÃ¡ precisar verificar e confirmar!</li>
</ul>
<blockquote>
<p>Pronto!</p>
</blockquote>
<ul>
<li>Agora vamos colocar criptografia OMEMO por padrÃ£o!</li>
</ul>
<h3 id="omemo-por-padrao">OMEMO POR PADRÃƒO</h3>
<ul>
<li>Essa etapa Ã© muito simples, basta ir em Privacy e colocar a
criptografia padrÃ£o como OMEMO</li>
</ul>
<figure>
<img src="/images/p/0x01-xmpp/omemo.png" alt="Selecione o OMEMO" />
<figcaption aria-hidden="true">Selecione o OMEMO</figcaption>
</figure>
<hr />
<h2 id="acabou">Feito!</h2>
<ul>
<li>Agora vocÃª pode conversar de forma segura</li>
<li>Agora vocÃª pode adicionar pessoas novas, e apresentar o XMPP as
pessoas, livrando elas das instituiÃ§Ãµes centralizadas!!!</li>
<li>Agora vocÃª pode me adicionar: <code>dr3zk@linux.monster</code></li>
</ul>
<hr />
<p>Bom o paper acabou, se vocÃª leu atÃ© aqui obrigado por ter tirado um
tempo para visitar essa joÃ§a! Se encontrou algum erro tÃ©cnico ou de
portuguÃªs, sinta-se Ã  vontade para me adicionar no XMPP e me enviar.</p>
<blockquote>
<p>Lembre-se de colocar as luvas nos pÃ©s dos MACAC0S!
ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³</p>
</blockquote>
<pre><code>â£ â£¤â£„â£€â£¤â¡¤â ¤â£¤â¢„â €â£€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â¢¸â£¿â£¿â£·â£®â¡“â¢¦â¡€â €â €â ‰â ‰â “â ²â ¤â¢¤â£€â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â¢´â£¾â£¿â£¿â£¿â£¿â£¿â£¦â£™â ‚â €â ¤â¡€â €â €â €â €â €â ˆâ ‘â ’â ¤â£€â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â â¢»â£¿â£¿â£¿â¢¿â£¿â£¿â£¿â ·â €â €â €â €â €â €â €â €â €â£€â£¤â¡€â¢™â¡¯â¡“â¢¤â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â¢¸â£¿â¢»â£½â£¿â£¿â£¿â ·â ›â â €â €â €â â €â €â €â â ›â ‰â£½â£¯â¡½â â ˜â¢¦â£±â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£ â£¤â£„â£€â£ â ´â¢’â£šâ£¹â£Ÿâ£›â£²â¢¶â£¤â£€â €â €â €
â¡˜â£»â£·â£½â¢¿â â ™â ƒâ €â €â €â €â €â €â €â €â €â â ºâ¢¾â£¿â¢¿â£§â£†â â †â£™â£»â¢†â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â¢¸â ˜â£¿â£·â£¿â£½â£¿â£¿â£Ÿâ£Ÿâ¢¿â£¾â£¿â£¿â£¯â£§â €
â£¤â£¸â£¿â£¿â ‚â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ »â¢­â£­â£­â£¿â£¿â£—â£»â£¿â£¿â¡¦â£€â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£€â£¿â£½â¡€â ¸â£¿â£¿â£¿â£¿â£¿â£¿â£¾â£¿â£¿â£¿â¡›â£¿â¡»â£§
â¢¹â£¯â¡¿â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â£¤â£¶â£¾â£¿â£¿â¡¯â£›â£·â£¯â£¿â¡ºâ£¿â£®â¡³â£„â €â €â €â €â €â €â €â €â¢€â£´â£¾â¡¿â£¿â£¿â¡Ÿâ â €â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â£¿â£´â£¿â£¯â£¹â¡Ÿâ£¿
â ˜â »â ‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ºâ ›â¢‰â£´â£¿â£¯â£¾â¢Ÿâ¡²â¢¿â£›â¢¿â¡¹â£·â£›â£‹â ‘â¡„â €â €â €â €â¡ â šâ ‹â ‰â «â¢¯â£¿â£¿â£·â¡„â¢ â£¿â£¿â£¿â£¿â£¿â¡¿â£‡â£»â£¿â£¿â£·â¢¿â£‡â¢¨
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£°â¡¿â ‹â¢§â¡Ÿâ¢»â£·â£â¡²â¢Œâ£™â £â¡˜â£¿â£¿â£·â œâ €â €â €â¢°â¡â €â €â €â €â €â¢»â£¿â£¿â£†â£¿â£¿â£¿â£¿â£¿â¡¿â¢´â£¿â£¿â£·â¡¿â¡¿â£¾â£â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â â €â €â¢â£ â£¿â£¿â£¿â£¿â£¶â£®â£â£’â¢¼â¡â â €â €â €â €â €â ™â¢‘â¡’â ’â ’â ‹â¢¡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£›â£·â£¿â ‹â¢â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£°â£¿â£¿â£¿â£¿â£¿â¡‡â¢¸â¡Ÿâ£¿â¡¿â ¿â €â €â €â €â €â €â €â €â ˜â ±â¢€â£ â¢¨â£¬â£¿â£¿â£‹â ›â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¢§â¡ˆâ €
â €â €â €â €â €â €â €â €â €â €â €â €â €â¡¾â ‡â €â €â €â €â¢€â£¾â£¿â£¿â¡¿â ›â ‰â ‰â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ “â¡¿â ›â¢»â¡¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¢¿â£¿â£¾â£·â¡
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡”â£ â£¿â£¯â¢»â£¿â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡¼â¡½â¢°â£¸â£¿â£¾â£¿â£¿â£¿â£¿â¢¿â£¿â¢¿â£¿â£¿â£¿â£¿â Ÿâ â €â ™â£¿â£¿â£·
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¸â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£œâ¡¾â µâ£¿â Ÿâ£¿â£·â£¿â£¿â¢¹â£¿â €â£³â£¿â£¿â£¿â£¿â¡Ÿâ£€â †â €â¡€â£„â ¹â£¿
â €â €â €â €â €â €â €â €â €â €â €â €â €â£’â¢¤â¡€â €â €â£¿â£¿â£¿â£¿â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£¼â¡¾â¡¿â¢‹â£µâ£¾â¡â¢¹â£¯â£Ÿâ£½â¡â €â ˆâ£¿â£¿â Ÿâ£€â£¼â ‹â €â¢ â£½â£¿â£·â£®
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â¡â¡„â €â ¸â£¿â£¿â£‡â£›â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡â¢¸â£·â£¿â£¿â£¿â¡Ÿâ¢°â£¿â£¿â£¿â â €â €â €â£Ÿâ£¿â£¾â£¿â ‡â €â €â£¾â£¾â£·â£¿â£¿
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˜â¡„â €â ˆâ ›â ¿â ¿â ƒâ €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â¡‡â ˜â£¿â£¿â£¿â¡¿â €â €â ‰â ‰â €â €â €â €â¢ â£¿â£¿â¢»â¡Ÿâ €â¡†â£¿â£¿â£¿â£¿â£¿â£¿
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â ¤â ¤â¢–â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â¡‡â €â¢»â£¿â£¿â£§â €â €â €â €â €â €â €â¢€â£¿â£¿â ƒâ£¾â£§â €â£¿â£¿â£¿â£¿â£¿â£¿â£¿</code></pre></div>
    </div>
  </body>
</html>
